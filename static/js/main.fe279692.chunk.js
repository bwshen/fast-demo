(this.webpackJsonpfast=this.webpackJsonpfast||[]).push([[0],{143:function(t,e,a){},144:function(t,e,a){},170:function(t,e,a){"use strict";a.r(e);var n,i=a(0),r=a.n(i),s=a(43),o=a.n(s),c=(a(143),a(15)),l=a(17),u=a(19),h=a(25),d=a(26),p=(a.p,a(144),a(236)),v=a(232),b=a(235),j=a(113),f=a.n(j),O=a(112),m=a.n(O),g=a(114),x=a.n(g),y=a(237),w=a(74),k=a(234),I=a(229),P=a(228),S=a(233),C=a(2),T=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={searchTerm:"",results:[]},n.handleInput=n.handleInput.bind(Object(w.a)(n)),n}return Object(u.a)(a,[{key:"handleInput",value:function(t){if(t.target.value!==this.state.searchTerm&&(this.state.searchTerm=t.target.value,!(this.state.searchTerm.length<=2))){var e=this.state.searchTerm;this.props.API.search(e).then(function(t){var a,n;e===this.state.searchTerm&&this.setState({results:(null===(a=t.data)||void 0===a?void 0:a.Search)?null===(n=t.data)||void 0===n?void 0:n.Search:[]})}.bind(this))}}},{key:"render",value:function(){var t=this;return Object(C.jsxs)(S.a,{container:!0,children:[Object(C.jsx)(P.a,{sx:{flexGrow:1,marginRight:"4px"},onChange:function(e,a){(null===a||void 0===a?void 0:a.id)?t.props.showTitle(a.id):t.props.showSearch(t.state.searchTerm)},freeSolo:!0,options:this.state.results.map((function(t){return{label:t.Title,id:t.imdbID}})),renderInput:function(e){return Object(C.jsx)(I.a,Object(c.a)(Object(c.a)({},e),{},{value:t.state.searchTerm,onKeyUp:t.handleInput,onInput:t.handleInput,label:"Search Openmdb"}))}}),Object(C.jsx)(k.a,{variant:"contained",onClick:function(){t.props.showSearch(t.state.searchTerm)},children:"Search"})]})}}]),a}(r.a.Component),L=a(226);!function(t){t[t.SingleFull=0]="SingleFull",t[t.ListShort=1]="ListShort"}(n||(n={}));var A=a(241),D=a(242),_=a(243),F=a(244),M=a(110),R=a.n(M),N=a(240),K=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={cards:{type:null,results:[]}},n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(t){var e,a,i,r,s,o,c,l;(null===(e=this.props.movies)||void 0===e?void 0:e.type)===(null===(a=t.movies)||void 0===a?void 0:a.type)&&(null===(i=this.props.movies)||void 0===i?void 0:i.id)===(null===(r=t.movies)||void 0===r?void 0:r.id)&&(null===(s=this.props.movies)||void 0===s?void 0:s.page)===(null===(o=t.movies)||void 0===o?void 0:o.page)||((null===(c=this.props.movies)||void 0===c?void 0:c.type)===n.SingleFull&&this.showId(this.props.movies.id),(null===(l=this.props.movies)||void 0===l?void 0:l.type)===n.ListShort&&this.search(this.props.movies.id))}},{key:"showId",value:function(t){var e=this;this.props.API.getId(t).then((function(t){var a;"True"===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.Response)&&(console.log(Object(c.a)({key:t.data.imdbID},t.data)),e.setState({cards:{type:n.SingleFull,results:[t.data]}}))}))}},{key:"search",value:function(t){var e,a=null===(e=this.props.movies)||void 0===e?void 0:e.page;console.log(a),this.props.API.search(t,a).then(function(e){var i,r,s,o,c;(null===(i=this.props.movies)||void 0===i?void 0:i.type)===n.ListShort&&t===(null===(r=this.props.movies)||void 0===r?void 0:r.id)&&(null===(s=e.data)||void 0===s?void 0:s.Search)&&a==(null===(o=this.props.movies)||void 0===o?void 0:o.page)&&this.setState({cards:{type:n.ListShort,results:null===(c=e.data)||void 0===c?void 0:c.Search}})}.bind(this))}},{key:"renderFullCard",value:function(){var t=this.state.cards.results[0];return Object(C.jsx)(L.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:2,pt:1,children:Object(C.jsxs)(A.a,{sx:{maxWidth:"900px"},children:[Object(C.jsx)(D.a,{title:t.Title,subheader:"(".concat(t.Year,") (").concat(t.Type,")")}),Object(C.jsxs)(S.a,{container:!0,children:[Object(C.jsx)(S.a,{item:!0,xs:4,children:Object(C.jsx)(_.a,{component:"img",width:"300",height:"458",image:t.Poster})}),Object(C.jsxs)(S.a,{item:!0,xs:8,children:[t.Plot,t.Director&&"N/A"!==t.Director&&Object(C.jsxs)("div",{children:[Object(C.jsx)(F.a,{variant:"middle"}),"Director: ",t.Director]}),t.Writer&&"N/A"!==t.Writer&&Object(C.jsxs)("div",{children:[Object(C.jsx)(F.a,{variant:"middle"}),"Writer: ",t.Writer]}),t.Actors&&"N/A"!==t.Actors&&Object(C.jsxs)("div",{children:[Object(C.jsx)(F.a,{variant:"middle"}),"Actors: ",t.Actors]})]})]})]},t.imdbID)})}},{key:"renderShortCard",value:function(){var t=this;return Object(C.jsx)(p.a,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gridGap:"0.5em",alignItems:"center",justifyItems:"center",pt:1},children:this.state.cards.results.map((function(e){return Object(C.jsx)(A.a,{sx:{width:"250px"},children:Object(C.jsxs)(S.a,{container:!0,children:[Object(C.jsx)(S.a,{item:!0,xs:4,children:Object(C.jsx)(_.a,{component:"img",width:"300",image:e.Poster})}),Object(C.jsxs)(S.a,{item:!0,xs:8,children:[Object(C.jsx)("span",{className:"bold",children:e.Title}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:"italicized",children:"(".concat(e.Year,") (").concat(e.Type,")")}),Object(C.jsx)(p.a,{sx:{display:"flex",justifyContent:"end",pl:1,pb:1},children:Object(C.jsx)(N.a,{"aria-label":"Add to Playlist",onClick:function(){return t.props.addToQueue(e.imdbID)},children:Object(C.jsx)(R.a,{sx:{height:38,width:38}})})})]})]})},e.imdbID)}))})}},{key:"render",value:function(){switch(this.state.cards.type){case n.SingleFull:return this.renderFullCard();case n.ListShort:return this.renderShortCard();default:return""}}}]),a}(r.a.Component),E=function(){function t(e){Object(l.a)(this,t),this._API=void 0,this._playLists=void 0,this._API=e,this._playLists=[{}],this._listeners={}}return Object(u.a)(t,[{key:"addToCurrentPlayList",value:function(t){var e=this;this._API.getId(t,"short").then((function(t){var a;"True"!==(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.Response)||e._playLists[0][t.data.imdbID]||(e._playLists[0][t.data.imdbID]=t.data,e.triggerChanges())}))}},{key:"removeFromCurrentPlayList",value:function(t){this._playLists[0][t]&&(delete this._playLists[0][t],this.triggerChanges())}},{key:"addListener",value:function(t,e){this._listeners[t]=e}},{key:"removeListener",value:function(t){this._listeners.hasOwnProperty(t)&&delete this._listeners[t]}},{key:"getCurrentPlaylist",value:function(){var t=this;return Object.getOwnPropertyNames(this._playLists[0]).map((function(e){return t._playLists[0][e]}))}},{key:"triggerChanges",value:function(){var t=this,e=this.getCurrentPlaylist();Object.getOwnPropertySymbols(this._listeners).forEach((function(a){try{t._listeners[a](e)}catch(n){console.log("wtf",n)}}))}}]),t}(),W=a(111),G=a.n(W),U=a(245),q=a(246),B=a(227),Y=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).changeBackgroundColor=function(t){n.setState({backgroundColor:t.target.value})},console.log(t),n.state={movies:[],backgroundColor:"white"},n._playListSymbol=Symbol(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({movies:this.props.PlayListManager.getCurrentPlaylist()}),this.props.PlayListManager.addListener(this._playListSymbol,(function(e){t.setState({movies:e})}))}},{key:"componentWillUnmount",value:function(){this.props.PlayListManager.removeListener(this._playListSymbol)}},{key:"render",value:function(){var t=this;return Object(C.jsxs)(p.a,{sx:{width:"auto",minHeight:"60vh",maxHeight:"80vh",pb:1,pt:2,backgroundColor:this.state.backgroundColor},role:"presentation",children:[Object(C.jsxs)(p.a,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gridGap:"0.5em",alignItems:"center",justifyItems:"center"},children:[this.state.movies.map((function(e){return Object(C.jsx)(A.a,{sx:{width:"250px"},children:Object(C.jsxs)(S.a,{container:!0,children:[Object(C.jsx)(S.a,{item:!0,xs:4,children:Object(C.jsx)(_.a,{component:"img",width:"300",image:e.Poster})}),Object(C.jsxs)(S.a,{item:!0,xs:8,children:[Object(C.jsx)("span",{className:"bold",children:e.Title}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:"italicized",children:"(".concat(e.Year,") (").concat(e.Type,")")}),Object(C.jsx)(p.a,{sx:{display:"flex",justifyContent:"end",pl:1,pb:1},children:Object(C.jsx)(N.a,{"aria-label":"Remove from Playlist",onClick:function(){return t.props.PlayListManager.removeFromCurrentPlayList(e.imdbID)},children:Object(C.jsx)(G.a,{sx:{height:38,width:38}})})})]})]})},e.imdbID)})),0===this.state.movies.length&&Object(C.jsx)(b.a,{sx:{fontStyle:"italicized",color:"#AAA"},children:"Your Playlist is empty"})]}),Object(C.jsx)(p.a,{sx:{height:"4em"}}),Object(C.jsx)(y.a,{position:"static",color:"primary",sx:{position:"fixed",bottom:0,width:"100vw",height:"4em"},children:Object(C.jsx)(U.a,{maxWidth:"md",children:Object(C.jsxs)(q.a,{children:["My favorite color is",Object(C.jsxs)(B.a,{value:this.state.backgroundColor,id:"playlist_color",onChange:this.changeBackgroundColor,children:[Object(C.jsx)("option",{value:"white",children:"White"}),Object(C.jsx)("option",{value:"blue",children:"Blue"}),Object(C.jsx)("option",{value:"red",children:"Red"}),Object(C.jsx)("option",{value:"green",children:"Green"})]})]})})})]})}}]),a}(r.a.Component),Q=a(238),z=a(239),J=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(t){var i;return Object(l.a)(this,a),(i=e.call(this,t)).showTitle=function(t){i.setState({cards:{type:n.SingleFull,id:t}})},i.showSearch=function(t){i.setState({cards:{type:n.ListShort,id:t,page:0}})},i.addToQueue=function(t){i.playListManager.addToCurrentPlayList(t)},i.toggleDrawer=function(t){return function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&i.setState({isDrawerOpen:t})}},i.prev=function(){var t;(null===(t=i.state.cards)||void 0===t?void 0:t.page)&&i.setState({cards:Object(c.a)(Object(c.a)({},i.state.cards),{},{page:i.state.cards.page-1})})},i.next=function(){var t,e;console.log(null===(t=i.state.cards)||void 0===t?void 0:t.page),(null===(e=i.state.cards)||void 0===e?void 0:e.page)>=0&&i.setState({cards:Object(c.a)(Object(c.a)({},i.state.cards),{},{page:i.state.cards.page+1})})},i.state={cards:null,isDrawerOpen:!1},i.playListManager=new E(t.API),i}return Object(u.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"fast-movie-app",children:[Object(C.jsx)(y.a,{position:"static",children:Object(C.jsx)(b.a,{variant:"h6",component:"div",children:"Fast Movie Demo App"})}),Object(C.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",height:"100%",overflowY:"auto",pt:2,pl:2,pr:2,pb:1},children:[Object(C.jsx)(T,{API:this.props.API,showTitle:this.showTitle,showSearch:this.showSearch}),Object(C.jsx)(K,{API:this.props.API,movies:this.state.cards,addToQueue:this.addToQueue})]}),Object(C.jsxs)(Q.a,{showLabels:!0,children:[Object(C.jsx)(z.a,{onClick:this.prev,label:"Prev",icon:Object(C.jsx)(m.a,{})}),Object(C.jsx)(z.a,{onClick:this.toggleDrawer(!0),label:"Playlist",icon:Object(C.jsx)(f.a,{})}),Object(C.jsx)(z.a,{onClick:this.next,label:"Next",icon:Object(C.jsx)(x.a,{})})]}),Object(C.jsx)(v.a,{anchor:"bottom",open:this.state.isDrawerOpen,onClose:this.toggleDrawer(!1),children:Object(C.jsx)(Y,{PlayListManager:this.playListManager})})]})}}]),a}(r.a.Component),H=a(20),$=a.n(H),V=a(36),X=a(55),Z=a.n(X),tt=a(115),et=a(118),at="http://omdbapi.com".replace(/\/+$/,""),nt=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.a;Object(l.a)(this,t),this.basePath=a,this.axios=n,this.configuration=void 0,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)},it=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(t,n){var i;return Object(l.a)(this,a),(i=e.call(this,n)).field=t,i.name="RequiredError",i}return a}(Object(et.a)(Error)),rt="https://example.com",st=function(t,e,a){if(null===a||void 0===a)throw new it(e,"Required parameter ".concat(e," was null or undefined when calling ").concat(t,"."))},ot=function(){var t=Object(V.a)($.a.mark((function t(e,a,n){var i;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.apiKey){t.next=12;break}if("function"!==typeof n.apiKey){t.next=7;break}return t.next=4,n.apiKey(a);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,n.apiKey;case 9:t.t0=t.sent;case 10:i=t.t0,e[a]=i;case 12:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),ct=function(t){for(var e=new URLSearchParams(t.search),a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];for(var r=0,s=n;r<s.length;r++){var o=s[r];for(var c in o)if(Array.isArray(o[c])){e.delete(c);var l,u=Object(tt.a)(o[c]);try{for(u.s();!(l=u.n()).done;){var h=l.value;e.append(c,h)}}catch(d){u.e(d)}finally{u.f()}}else e.set(c,o[c])}t.search=e.toString()},lt=function(t){return t.pathname+t.search+t.hash},ut=function(t,e,a,n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,s=Object(c.a)(Object(c.a)({},t.options),{},{url:((null===n||void 0===n?void 0:n.basePath)||r)+t.url});return i.request(s)}},ht=function(t){var e=function(t){return{getId:function(){var e=Object(V.a)($.a.mark((function e(a,n,i,r){var s,o,l,u,h,d,p,v=arguments;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=v.length>4&&void 0!==v[4]?v[4]:{},st("getId","i",a),o=new URL("/?i",rt),t&&(l=t.baseOptions),u=Object(c.a)(Object(c.a)({method:"GET"},l),s),h={},d={},e.next=10,ot(d,"apikey",t);case 10:return void 0!==a&&(d.i=a),void 0!==n&&(d.plot=n),void 0!==i&&(d.r=i),void 0!==r&&(d.callback=r),ct(o,d,s.query),p=l&&l.headers?l.headers:{},u.headers=Object(c.a)(Object(c.a)(Object(c.a)({},h),p),s.headers),e.abrupt("return",{url:lt(o),options:u});case 18:case"end":return e.stop()}}),e)})));return function(t,a,n,i){return e.apply(this,arguments)}}()}}(t);return{getId:function(a,n,i,r,s){return Object(V.a)($.a.mark((function o(){var c;return $.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.getId(a,n,i,r,s);case 2:return c=o.sent,o.abrupt("return",ut(c,Z.a,at,t));case 4:case"end":return o.stop()}}),o)})))()}}},dt=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"getId",value:function(t,e,a,n,i){var r=this;return ht(this.configuration).getId(t,e,a,n,i).then((function(t){return t(r.axios,r.basePath)}))}}]),a}(nt),pt=function(t){var e=function(t){return{titleSearch:function(){var e=Object(V.a)($.a.mark((function e(a,n,i,r,s,o){var l,u,h,d,p,v,b,j=arguments;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=j.length>6&&void 0!==j[6]?j[6]:{},st("titleSearch","s",a),u=new URL("/?s",rt),t&&(h=t.baseOptions),d=Object(c.a)(Object(c.a)({method:"GET"},h),l),p={},v={},e.next=10,ot(v,"apikey",t);case 10:return void 0!==a&&(v.s=a),void 0!==n&&(v.y=n),void 0!==i&&(v.type=i),void 0!==r&&(v.r=r),void 0!==s&&(v.page=s),void 0!==o&&(v.callback=o),ct(u,v,l.query),b=h&&h.headers?h.headers:{},d.headers=Object(c.a)(Object(c.a)(Object(c.a)({},p),b),l.headers),e.abrupt("return",{url:lt(u),options:d});case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,i,r,s){return e.apply(this,arguments)}}()}}(t);return{titleSearch:function(a,n,i,r,s,o,c){return Object(V.a)($.a.mark((function l(){var u;return $.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e.titleSearch(a,n,i,r,s,o,c);case 2:return u=l.sent,l.abrupt("return",ut(u,Z.a,at,t));case 4:case"end":return l.stop()}}),l)})))()}}},vt=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"titleSearch",value:function(t,e,a,n,i,r,s){var o=this;return pt(this.configuration).titleSearch(t,e,a,n,i,r,s).then((function(t){return t(o.axios,o.basePath)}))}}]),a}(nt),bt=function(t){var e=function(t){return{getTitle:function(){var e=Object(V.a)($.a.mark((function e(a,n,i,r,s,o){var l,u,h,d,p,v,b,j=arguments;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=j.length>6&&void 0!==j[6]?j[6]:{},st("getTitle","t",a),u=new URL("/?t",rt),t&&(h=t.baseOptions),d=Object(c.a)(Object(c.a)({method:"GET"},h),l),p={},v={},e.next=10,ot(v,"apikey",t);case 10:return void 0!==a&&(v.t=a),void 0!==n&&(v.y=n),void 0!==i&&(v.type=i),void 0!==r&&(v.plot=r),void 0!==s&&(v.r=s),void 0!==o&&(v.callback=o),ct(u,v,l.query),b=h&&h.headers?h.headers:{},d.headers=Object(c.a)(Object(c.a)(Object(c.a)({},p),b),l.headers),e.abrupt("return",{url:lt(u),options:d});case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,i,r,s){return e.apply(this,arguments)}}()}}(t);return{getTitle:function(a,n,i,r,s,o,c){return Object(V.a)($.a.mark((function l(){var u;return $.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e.getTitle(a,n,i,r,s,o,c);case 2:return u=l.sent,l.abrupt("return",ut(u,Z.a,at,t));case 4:case"end":return l.stop()}}),l)})))()}}},jt=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"getTitle",value:function(t,e,a,n,i,r,s){var o=this;return bt(this.configuration).getTitle(t,e,a,n,i,r,s).then((function(t){return t(o.axios,o.basePath)}))}}]),a}(nt),ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,t),this.apiKey=void 0,this.username=void 0,this.password=void 0,this.accessToken=void 0,this.basePath=void 0,this.baseOptions=void 0,this.formDataCtor=void 0,this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}return Object(u.a)(t,[{key:"isJsonMime",value:function(t){var e=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==t&&(e.test(t)||"application/json-patch+json"===t.toLowerCase())}}]),t}(),Ot=function(){function t(e){Object(l.a)(this,t),this._titleAPI=void 0,this._searchAPI=void 0,this._IDAPI=void 0;var a=new ft({apiKey:e});this._titleAPI=new jt(a),this._searchAPI=new vt(a),this._IDAPI=new dt(a)}return Object(u.a)(t,[{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._searchAPI.titleSearch(t,void 0,void 0,void 0,e+1)}},{key:"getId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";return this._IDAPI.getId(t,e)}}]),t}(),mt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,249)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),i(t),r(t),s(t)}))},gt={API:new Ot("c2768b7e")};o.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(J,{API:gt.API})}),document.getElementById("root")),mt()}},[[170,1,2]]]);
//# sourceMappingURL=main.fe279692.chunk.js.map